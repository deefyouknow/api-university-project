# **‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô hash ‡∏î‡πâ‡∏ß‡∏¢ bcrypt**

> **‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á bcrypt**

```bash
pip install passlib[bcrypt]
``` 

---

### **import** ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á **context**

> - **passlib** ‡∏Ñ‡∏∑‡∏≠ library ‡∏£‡∏ß‡∏° algorithm ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (password hashing)  
‡∏™‡πà‡∏ß‡∏ô [bcrypt] ‡∏Ñ‡∏∑‡∏≠ module ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ algorithm ‡∏ä‡∏∑‡πà‡∏≠ bcrypt

> - **contex** ‡∏Ñ‡∏∑‡∏≠ ‡∏ö‡∏£‡∏¥‡∏ö‡∏ó ‡∏ã‡∏∂‡πà‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á ‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏ï‡πà‡∏≤‡∏á‡πÜ  
‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏≤‡∏¢‡∏•‡πâ‡∏≠‡∏°‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå, ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß, ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πâ‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡πà‡∏á‡∏ô‡∏±‡πâ‡∏ô 

```python
from passlib.context import CryptContext # import
x = CryptContext(schemes=["bcrypt"], deprecated="auto") # context on x
```

**component**

- **CryptContext**
  - ‡∏ï‡∏±‡∏ß‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ algorithm (‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢ "‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™")
- **schemes=["bcrypt"]**	
  - ‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ algorithm ‡∏ä‡∏∑‡πà‡∏≠ bcrypt
- **deprecated="auto"**
  - ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏°‡∏µ version ‡πÄ‡∏Å‡πà‡∏≤ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- **x	-> is context**
  - ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö ‚Äú‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‚Äù ‡∏ó‡∏µ‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ

---

### **‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™ hash ‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢ encode**

```python 
def hash_password(password: str) -> str:
    return x.hash(password)
```

**components**

- **password: str**  
  - ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ argument ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô string
- -**> str** 
  - ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ function ‡∏ô‡∏µ‡πâ ‚Äú‡∏à‡∏∞‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô string‚Äù (‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ç‡∏≠‡∏á hash)
- **x.hash(password)**
  - ‡πÉ‡∏ä‡πâ CryptContext ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™ password ‡∏î‡πâ‡∏ß‡∏¢ bcrypt
  
**output**

```python
hash_password("1234")
# ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ '$2b$12$HfC5X9...'
```

- **bcrypt ‡∏à‡∏∞‡∏™‡∏∏‡πà‡∏° salt ‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏á ‡∏ó‡∏≥‡πÉ‡∏´‡πâ hash ‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥‡∏Å‡∏±‡∏ô‡πÅ‡∏°‡πâ password ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô**

---

### **‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏´‡∏±‡∏™ (verify) ‡∏ú‡πà‡∏≤‡∏ô bcrypt**

> bcrypt ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£ decode ‡∏Å‡∏•‡∏±‡∏ö hash ‚Üí ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ verify ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

```python
def verify_password(plain_password: str, hashed_password: str) -> bool:
    return x.verify(plain_password, hashed_password)
```

**components**

- **plain_password**  
  - password ‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ï‡∏≠‡∏ô login
- **hashed_password**  
  - password ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏ñ‡∏π‡∏Å hash ‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß)
- **-> bool** 
  - ‡∏à‡∏∞‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô True / False
- **x.verify(context)**	 
  - bcrypt ‡∏à‡∏∞ hash ‡∏£‡∏´‡∏±‡∏™‡πÉ‡∏´‡∏°‡πà ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö hash ‡πÄ‡∏î‡∏¥‡∏°
  
**output**

```python
hashed = hash_password("1234")
print(verify_password("1234", hashed))  # ‚úÖ True
print(verify_password("9999", hashed))  # ‚ùå False
```

---

üß† ‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏´‡∏•‡∏±‡∏Å

- x = CryptContext(...) ‚Üí ‚Äú‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏ß‡πâ 1 ‡∏ï‡∏±‡∏ß‚Äù
- x.hash() ‚Üí ‡πÉ‡∏ä‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™ password
- x.verify() ‚Üí ‡πÉ‡∏ä‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏≠‡∏Å‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö hash ‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏´‡∏°
- -> str ‡πÅ‡∏•‡∏∞ -> bool ‚Üí ‡πÄ‡∏õ‡πá‡∏ô type hint ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏Å‡∏ä‡∏ô‡∏¥‡∏î‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà function ‡∏à‡∏∞‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö (string ‡∏´‡∏£‡∏∑‡∏≠ boolean)

---

- @staticmethod
  - ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô function ‡πÉ‡∏ô ‡∏Ñ‡∏•‡∏≤‡∏™‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Ñ‡∏•‡∏≤‡∏™‡∏î‡πâ‡∏ß‡∏¢ nameclass.functionmedthod(arguimetn)
  
# ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡πà‡∏ô‡πÉ‡∏ô ‡∏Ñ‡∏•‡∏≤‡∏™‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤ medthod
